!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";e.exports=new function(){var e=this;this.renderer="",this.canvas=function(e,t){var r=document.createElement("canvas");r.width=e,r.height=t;var n=r.getContext("2d");return{canvas:r,ctx:n}},this.rectangle=function(t,r,n){var s=e.canvas(t,r);return s.ctx.fillStyle=n,s.ctx.fillRect(0,0,t,r),PIXI.Texture.fromCanvas(s.canvas)},this.circle=function(t,r){var n=e.canvas(2*t,2*t);return n.ctx.fillStyle=r,n.ctx.beginPath(),n.ctx.arc(t,t,t,0,2*Math.PI),n.ctx.fill(),PIXI.Texture.fromCanvas(n.canvas)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=new function(){var e=this;this.map=[],this.tethers=[],this.listen=function(){document.onkeydown=function(t){t=(t=t||window.event).which||t.keyCode||0,-1==e.map.indexOf(t)&&e.map.push(t),e.tethers.forEach((function(r,n){"down"==r.type&&t===r.key&&(r.func(),r.perma||e.tethers.splice(n,1))}))},document.onkeyup=function(t){t=(t=t||window.event).which||t.keyCode||0,-1!=e.map.indexOf(t)&&e.map.splice(e.map.indexOf(t),1),e.tethers.forEach((function(r,n){"up"==r.type&&t===r.key&&(r.func(),r.perma||e.tethers.splice(n,1))}))}},this.check=function(t,r,s){"object"!=(void 0===t?"undefined":n(t))&&(t=[t]);for(var i=0;i<t.length;i++)if(-1!=e.map.indexOf(t[i]))return r(),void(i=t.length);void 0!==s&&s()},this.waitUp=function(t,r,n){void 0===n&&(n=!1),e.tethers.push({key:t,func:r,type:"up",perma:n})},this.waitDown=function(t,r,n){void 0===n&&(n=!1),e.tethers.push({key:t,func:r,type:"down",perma:n})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){e.buttonMode=!0,e.interactive=!0,e.x=t,e.y=r,e.on("click",(function(){n(),g.renderer.render(g.all)}))}},function(e,t,r){"use strict";var n=u(r(1));r(4);var s=u(r(5)),i=u(r(6)),a=u(r(7)),o=u(r(8)),l=u(r(9)),c=u(r(10));function u(e){return e&&e.__esModule?e:{default:e}}window.g={},Number.prototype.mod=function(e){return(this%e+e)%e},n.default.listen(),g.renderer=PIXI.autoDetectRenderer(832,640),g.renderer.backgroundColor=4473924,g.all=new PIXI.Container,document.body.appendChild(g.renderer.view),PIXI.loader.add("assets/snake-head.png").add("assets/rainbow.json").add("assets/snake-body.png").add("assets/snake-corner.png").add("assets/snake-tail.png").add("assets/grass.png").add("assets/flowers-1.png").add("assets/flowers-2.png").add("assets/rock.png").add("assets/gem-1.png").add("assets/gem-2.png").add("assets/gem-3.png").add("assets/level-1.png").add("assets/titlescreen.png").add("assets/start.png").add("assets/back.png").add("assets/music.png").add("assets/nomusic.png").load((function(){WebFont.load({custom:{families:["Pixel","pixelmono"],urls:["/stylesheet.css"]},active:function(e){var t;console.log("font loaded!"),t=[PIXI.loader.resources["assets/grass.png"].texture,PIXI.loader.resources["assets/flowers-1.png"].texture,PIXI.loader.resources["assets/flowers-2.png"].texture,PIXI.loader.resources["assets/rock.png"].texture],(0,a.default)(),console.log(g.manager),g.manager.show("start"),g.all.updateLayersOrder=function(){g.all.children.sort((function(e,t){return e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,t.zOrder-e.zOrder}))},g.newLevel=function(e){if(null!=i.default[e]){g.maze=i.default[e],g.stage=new PIXI.Container,g.stage.zOrder=-1,g.all.addChild(g.stage),g.stage.updateLayersOrder=function(){g.stage.children.sort((function(e,t){return e.zIndex=e.zIndex||0,t.zIndex=t.zIndex||0,t.zIndex-e.zIndex}))},this.kill=function(){w.stop(),g.level.endLoop.stop(),g.all.removeChild(g.stage),g.all.removeChild(x.counter),g.all.removeChild(r.obj),g.manager.show("level")},this.end=function(e){w.stop();var t=0;x.counter.xvel=0,g.level.endLoop=new s.default((function(e,r){if(x.exit&&e%10==0&&(x.exitSprite.cycle++,x.exitSprite.cycle%=8,x.exitSprite.setTexture(PIXI.loader.resources["assets/rainbow.json"].textures["rainbow"+x.exitSprite.cycle+".png"])),x.sprites.length-1==t&&(x.counter.xvel+=.1,x.counter.x+=x.counter.xvel),e%10==0)if(x.sprites.length-1==t)x.sprites[t].tint="0x000",g.manager.show("death");else do{x.sprites[t].tint="0x000",t++}while(x.locations[t].x===x.locations[t+1].x&&x.locations[t].y===x.locations[t+1].y);isNaN(x.sprites[t].worldTransform.ty)||isNaN(x.sprites[t].worldTransform.tx)||(g.stage.y+=(320-x.sprites[t].worldTransform.ty)/40,g.stage.x+=(416-x.sprites[t].worldTransform.tx)/40),u.children.forEach((function(e){e.y=(64*e.orig.y+g.stage.y).mod(704)-g.stage.y-64,e.x=(64*e.orig.x+g.stage.x).mod(896)-g.stage.x-64})),y.children.forEach((function(e){e.visible=!(e.x+g.stage.x<-32||e.x+g.stage.x>864||e.y+g.stage.y<-32||e.y+g.stage.y>672)})),g.renderer.render(g.all)}))};var r=new o.default;g.soundManager.visible=!1;var a=[80,90,100,104],u=new PIXI.Container;u.zIndex=500;for(var d=-2;d<26;d++)for(var f=-2;f<20;f++){var h=Math.random()*a[a.length-1],p=new PIXI.Sprite(t[a.indexOf(a.filter((function(e){return h<e}))[0])]);p.scale.x=.5,p.scale.y=.5,p.x=32*d,p.y=32*f,p.orig={x:d/2,y:f/2},u.addChild(p)}var y=new PIXI.Container;y.zIndex=-1,g.stage.addChild(y),(0,c.default)(g.maze.data,y),g.stage.addChild(u);var x=new l.default;x.layer();var m=x.direction,v=x.direction;g.all.updateLayersOrder();for(var b=0;b<2;b++)switch(i.default[e].snake.direction){case"r":x.move(1,0);break;case"l":x.move(-1,0);break;case"u":x.move(0,1);break;case"d":x.move(0,-1)}g.manager.hide(),g.stage.y=320-x.sprites[0].y,g.stage.x=416-x.sprites[0].x;var I=new PIXI.Text("3",{font:"52px Pixel",fill:"white"});g.all.addChild(I),I.y=320,I.x=416;var w=new s.default((function(e,t){if(g.stage.y+=(320-x.sprites[0].worldTransform.ty)/(40-39*+(Math.abs(320-x.sprites[0].worldTransform.ty)>640)),g.stage.x+=(416-x.sprites[0].worldTransform.tx)/(40-39*+(Math.abs(416-x.sprites[0].worldTransform.tx)>832)),u.children.forEach((function(e){e.y=(64*e.orig.y+g.stage.y).mod(704)-g.stage.y-64,e.x=(64*e.orig.x+g.stage.x).mod(896)-g.stage.x-64})),y.children.forEach((function(e){e.visible=!(e.x+g.stage.x<-32||e.x+g.stage.x>864||e.y+g.stage.y<-32||e.y+g.stage.y>672)})),e%8==0&&e>180)switch(r.handle(t,u),n.default.check([65,37],(function(){("u"==m||"d"==m&&"l"!=v)&&(v="l")})),n.default.check([68,39],(function(){("u"==m||"d"==m&&"r"!=v)&&(v="r")})),n.default.check([87,38],(function(){("r"==m||"l"==m&&"u"!=v)&&(v="u")})),n.default.check([83,40],(function(){("r"==m||"l"==m&&"d"!=v)&&(v="d")})),m=v){case"l":x.move(-1,0);break;case"r":x.move(1,0);break;case"u":x.move(0,1);break;case"d":x.move(0,-1)}else 0===Math.ceil(3-e/60)?I.visible=!1:I.setText(Math.ceil(3-e/60));g.renderer.render(g.all)}));return this}}}})})),console.log("breaaak")},function(e,t,r){"use strict";Array.prototype.equals&&console.warn("Overriding existing Array.prototype.equals. Possible causes: New API defines the method, there's a framework conflict or you've got double inclusions in your code."),Array.prototype.equals=function(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,r=this.length;t<r;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1})},function(e,t,r){"use strict";e.exports=function(e){this.going=!0,this.start=function(){this.going=!0,requestAnimationFrame(n)},this.resume=this.start,this.stop=function(){this.going=!1},this.pause=this.stop,this.toggle=function(){this.going=!this.going},this.restart=function(){r=0};var t=this,r=0;function n(){t.going&&(requestAnimationFrame(n),e(++r,t))}return n(),this}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{mode:"normal",snake:{x:16,y:2,direction:"r"},data:[[1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,0,1,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,1,0,1,2,2,2,2,2,2,2,2,2,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1]]},{mode:"normal",snake:{x:14,y:6,direction:"u"},data:[[0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0],[0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0],[1,1,1,1,2,2,2,1,1,1,1,1,1,2,2,2,1,1,1,1,1,2,2,2,1,1,1,1],[1,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,1],[1,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,1],[1,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,1],[1,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,1],[1,2,2,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,2,2,1],[1,2,2,1,2,2,1,1,1,1,2,2,1,2,2,1,2,2,1,1,1,1,2,2,1,2,2,1],[1,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,1],[1,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,1],[1,2,2,1,1,1,1,1,1,1,2,2,1,2,2,1,2,2,1,1,1,1,1,1,1,2,2,1],[1,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0]]},{mode:"normal",snake:{x:12,y:76,direction:"l"},data:[[1,{x:1,y:0,id:"2",target:"1",direction:"u"},1,0,0,0,0,0,0,0,0,0],[1,1,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,2,2,2,2,2,2,2,2],[2,2,2,2,2,2,2,2,2,2,2,2],[2,2,2,2,2,2,1,2,2,2,2,2],[2,2,2,2,2,2,2,2,2,2,2,2],[2,2,2,2,2,2,2,2,2,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,0,1,{x:10,y:74,id:"1",target:"2",direction:"d"},1]]},{mode:"crash",snake:{x:2,y:16,direction:"u"},end:{x:2,y:18},data:[[1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0],[1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[1,0,1,1,0,0,1,0,0,1,0,1,0,0,0,1,0,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0],[1,1,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,1,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,1,0,1,1,1,1,1,0,1,1,1,0,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,0,1,0,0,0,0,0,1,1,1,1,1,1,1,0,1,0,1,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1],[0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1],[0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1],[0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1],[0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,1,1,1,1,1,0,1,0,1],[0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1],[0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,1],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1]],fruit:[]},{mode:"normal",snake:{x:2,y:16,direction:"r"},data:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,0,0,0,0,0,0,0,1,1,2,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0],[0,0,0,0,0,1,1,1,1,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,1,1,1,1,1,2,1,1,1,1,0,1,0,0,1,1,1,1,2,1,1,2,2,1,2,1,1,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,1,1,1,1,1,2,1,1,2,2,1,2,2,1,1,1,1,1,1,1,2,2,1,1,2,1,1,1,1,1,2,1,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,1,1,2,2,1,1,2,2,1,2,2,1,1,2,2,2,1,1,2,1,1,1,2,2,2,2,2,2,2,2,1],[1,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,1],[0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1],[0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,0,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1],[0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,1,1,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,1,1,1,2,2,2,2,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,1,1,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,1,2,2,1,2,2,2,2,2,1,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,1,2,1,2,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,1,1,2,2,1,1,1,1,2,2,1,2,1,2,2,2,2,2,2,2,2,1,1,2,1,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,2,2,1,2,1,2,2,1,1,1,1,1,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,2,2,2,2,2,2,1,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,1,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0]]},{mode:"normal",snake:{x:1,y:7,direction:"r"},end:{x:-15,y:-2},data:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,1,1,1,1,1,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,1,2,2,2,2,2,2,1,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1],[1,2,2,1,1,1,1,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,2,2,1,1,1,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[0,1,2,2,2,2,2,2,1,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[0,0,1,1,1,1,1,1,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=function(){g.manager=new l,g.soundManager=new PIXI.Container,g.soundManager.x=704,g.soundManager.y=576,g.soundManager.zOrder=-4;var e=new PIXI.Sprite(PIXI.loader.resources["assets/music.png"].texture);e.enabled=!0,(0,i.default)(e,0,0,(function(){e.enabled?e.setTexture(PIXI.loader.resources["assets/nomusic.png"].texture):e.setTexture(PIXI.loader.resources["assets/music.png"].texture),e.enabled=!e.enabled}));var t=new PIXI.Sprite(s.default.rectangle(64,64,"#00f"));(0,i.default)(t,64,0,(function(){console.log("sfx")})),g.soundManager.addChild(e),g.soundManager.addChild(t),g.all.addChild(g.soundManager);var r=new c("start",!0),n=new PIXI.Sprite(PIXI.loader.resources["assets/titlescreen.png"].texture);r.addChild(n);var a=new PIXI.Sprite(PIXI.loader.resources["assets/start.png"].texture);r.addChild(a),(0,i.default)(a,288,384,(function(){g.manager.show("level")}));for(var o=new c("level",!0),u=function(e){for(var t=function(t){var r=new PIXI.Sprite(PIXI.loader.resources["assets/level-1.png"].texture);o.addChild(r),(0,i.default)(r,128*e+128,128*t+128,(function(){g.level=new g.newLevel(e+5*t)}))},r=0;r<2;r++)t(r)},d=0;d<5;d++)u(d);var f=new PIXI.Sprite(PIXI.loader.resources["assets/back.png"].texture);o.addChild(f),(0,i.default)(f,0,0,(function(){g.manager.show("start")}));var h=new PIXI.Sprite(PIXI.loader.resources["assets/back.png"].texture);(0,i.default)(h,0,0,(function(){g.manager.show("start"),g.level.kill()}));var p=new c("death",!1),y=new PIXI.Sprite(s.default.rectangle(384,256,"#000"));y.x=416-y.width/2,y.y=320-y.height/2,p.zOrder=-4,p.addChild(y),p.addChild(h);var x=new c("victory",!1),m=new PIXI.Sprite(s.default.rectangle(384,256,"#fff"));m.x=416-m.width/2,m.y=320-m.height/2,x.zOrder=-4,x.addChild(m),x.addChild(h)};var s=a(r(0)),i=a(r(2));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(){o(this,e),this.menus=[]}return n(e,[{key:"show",value:function(e){this.hide(),this.menus.forEach((function(t){t.name===e&&(t.visible=!0,g.soundManager.visible=t.sound)})),g.renderer.render(g.all)}},{key:"hide",value:function(){this.menus.forEach((function(e){e.visible=!1}))}},{key:"push",value:function(e){this.menus.push(e)}}]),e}(),c=function(e){function t(e,r){o(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name=e,n.sound=r,g.manager.push(n),g.all.addChild(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,PIXI.Container),t}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=o(r(0)),i=o(r(1)),a=o(r(2));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=new PIXI.Sprite(s.default.rectangle(832,640,"rgba(44, 62, 80,0.7)"));r.visible=!1;var n=new PIXI.Text("Game paused",{font:"52px Pixel",fill:"white"});n.anchor.x=.5,n.x=416,n.y=200,r.addChild(n),r.zOrder=-3,this.obj=r,this.allow=!0,this.veto=!1,g.all.addChild(this.obj);var i=new PIXI.Sprite(s.default.rectangle(320,128,"#000"));(0,a.default)(i,256,320,(function(){g.level.kill(),t.veto=!0,console.log(t)})),this.obj.addChild(i)}return n(e,[{key:"handle",value:function(e,t){var r=this;function n(){r.veto||(e.start(),r.obj.visible=!1,g.soundManager.visible=!1,t.zIndex=500,g.all.updateLayersOrder())}function s(){r.veto||(r.allow=!0)}i.default.check(80,(function(){r.allow&&(console.log("SHOW"),r.obj.visible=!0,g.soundManager.visible=!0,r.obj.zIndex=-3,g.all.updateLayersOrder(),r.allow=!1,g.renderer.render(g.stage),e.stop(),i.default.waitUp(80,(function(){i.default.waitDown(80,n),i.default.waitUp(80,s)})))}))}}]),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),o=(n=a)&&n.__esModule?n:{default:n};function l(e){var t=new PIXI.Sprite(PIXI.loader.resources["assets/snake-"+e+".png"].texture);return t.scale.x=.5,t.scale.y=.5,t.anchor.x=.5,t.anchor.y=.5,t.x=-432,t.y=-336,g.stage.addChild(t),"head"!==e&&"tail"!==e||(t.zIndex=0),t.segmentType=e,t}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.exit=!1,this.locations=[{x:g.maze.snake.x,y:g.maze.snake.y},{x:g.maze.snake.x,y:g.maze.snake.y},{x:g.maze.snake.x,y:g.maze.snake.y}],this.sprites=[],this.gems=[],this.sprites.push(new l("head")),this.sprites.push(new l("body")),this.sprites.push(new l("tail")),g.stage.y+=320-this.sprites[0].worldTransform.ty,g.stage.x+=416-this.sprites[0].worldTransform.tx,this.counter=new PIXI.Container,this.counter.zOrder=-2,this.counter.x=704,this.counter.y=544,this.counter.addChild(new PIXI.Sprite(o.default.rectangle(128,96,"rgba(44, 62, 80,0.7)"))),this.counter.rules={current:0,max:25};for(var t=0;t<3;t++){var r=new PIXI.Sprite(PIXI.loader.resources["assets/gem-"+(t+1)+".png"].texture);r.scale.x=.5,r.scale.y=.5,r.x=8+40*t,r.y=8,this.counter.addChild(r)}var n=new PIXI.Text("00",{font:"52px pixelmono",fill:"white"});n.y=52,n.x=8,this.counter.display=n,this.counter.addChild(n);var s=new PIXI.Text("/"+(this.counter.rules.max<10?"0"+this.counter.rules.max:this.counter.rules.max),{font:"30px pixelmono",fill:"white"});s.x=n.width+16,s.y=52,this.counter.addChild(s),g.all.addChild(this.counter),"normal"===g.maze.mode?(this.fruit(),this.fruit(),this.fruit()):(this.exit=!0,this.exitSprite=new PIXI.Sprite(PIXI.loader.resources["assets/rainbow.json"].textures["rainbow1.png"]),this.exitSprite.cycle=1,this.exitSprite.x=32*g.maze.end.x,this.exitSprite.y=32*g.maze.end.y,this.exitSprite.scale.x=1/6,this.exitSprite.scale.y=1/6,this.exitSprite.coord=g.maze.end,this.exitSprite.zIndex=1,g.stage.addChild(this.exitSprite)),this.direction=g.maze.snake.direction}return i(e,[{key:"move",value:function(e,t,r){for(var n=this.locations.length-1;n>0;n--)this.locations[n]=Object.assign({},this.locations[n-1]);this.locations[0].x+=e,this.locations[0].y-=t,this.sprites[0].rotation=(t/2+e/2+(0!=e?.5:0)+.5)*Math.PI;for(var s=0;s<this.sprites.length;s++){var i=this.locations[s-1],a=this.locations[s],o=this.locations[s+1];if(this.sprites[s].x=32*a.x+16,this.sprites[s].y=32*a.y+16,0!==s){if("tail"===this.sprites[s].segmentType)for(var l=1;a.x===i.x&&a.y===i.y;)l++,i=this.locations[s-l];var c=i.x-a.x,u=a.y-i.y;this.sprites[s].rotation=(u/2+c/2+(0!=c?.5:0)+.5)*Math.PI}if("body"===this.sprites[s].segmentType)if(this.sprites[s].visible=!(this.locations[this.locations.length-1].x===this.locations[s].x&&this.locations[this.locations.length-1].y===this.locations[s].y),a.x===i.x&&i.x===o.x||a.y===i.y&&i.y===o.y)this.sprites[s].setTexture(PIXI.loader.resources["assets/snake-body.png"].texture);else{var d=[a.x-i.x,a.y-i.y],f=[o.x-a.x,o.y-a.y],h=!1;[[[0,1],[1,0]],[[1,0],[0,-1]],[[0,-1],[-1,0]],[[-1,0],[0,1]]].forEach((function(e){d.equals(e[0])&&f.equals(e[1])&&(h=!0)})),h&&(this.sprites[s].rotation+=.5*Math.PI),this.sprites[s].setTexture(PIXI.loader.resources["assets/snake-corner.png"].texture)}}this.collide()}},{key:"eat",value:function(){var e=this,t=new l("body");if(this.sprites.splice(this.sprites.length-1,0,t),this.locations.splice(this.locations.length-1,0,this.locations[this.locations.length-2]),t.x=32*(this.locations.length-1).x,t.y=32*(this.locations.length-1).y,this.layer(),this.counter.rules.current++,this.counter.display.text=this.counter.rules.current<10?"0"+this.counter.rules.current:this.counter.rules.current,this.counter.rules.current==this.counter.rules.max){for(var r=e.gems.length-1;r>=0;r--)g.stage.removeChild(e.gems[r]),e.gems.splice(r,1);!function t(){var r={x:Math.floor(g.maze.data[0].length*Math.random()),y:Math.floor(g.maze.data.length*Math.random())};e.locations.every((function(e){return!(e.x===r.x&&e.y===r.y)}))&&2===g.maze.data[r.y][r.x]?(e.exit=!0,e.exitSprite=new PIXI.Sprite(PIXI.loader.resources["assets/rainbow.json"].textures["rainbow1.png"]),e.exitSprite.cycle=1,e.exitSprite.x=32*r.x,e.exitSprite.y=32*r.y,console.log(r),e.exitSprite.scale.x=1/6,e.exitSprite.scale.y=1/6,e.exitSprite.coord=r,e.exitSprite.zIndex=1,g.stage.addChild(e.exitSprite)):t()}()}}},{key:"layer",value:function(){for(var e=0;e<this.sprites.length;e++)this.sprites[e].zIndex=1;g.stage.updateLayersOrder()}},{key:"collide",value:function(){for(var e=this,t=this,r=!1,n=!1,i=1;i<this.locations.length;i++)this.locations[0].x===this.locations[i].x&&this.locations[0].y===this.locations[i].y&&(r=!0);if(null!=g.maze.data[this.locations[0].y]&&1===g.maze.data[this.locations[0].y][this.locations[0].x]&&(r=!0),null==g.maze.data[this.locations[0].y]||"object"!==s(g.maze.data[this.locations[0].y][this.locations[0].x]))return r&&(n=!0,g.level.end("death")),this.counter.rules.current!=this.counter.rules.max&&this.gems.forEach((function(r){e.locations[0].x===r.coord.x&&e.locations[0].y===r.coord.y&&(t.gems.splice(t.gems.indexOf(r),1),g.stage.removeChild(r),t.fruit(),t.eat())})),this.exit&&(this.exitSprite.cycle++,this.exitSprite.cycle%=8,this.exitSprite.setTexture(PIXI.loader.resources["assets/rainbow.json"].textures["rainbow"+this.exitSprite.cycle+".png"]),this.locations[0].x===this.exitSprite.coord.x&&this.locations[0].y===this.exitSprite.coord.y&&(n=!0,g.level.end("victory"))),n;var a=g.maze.data[this.locations[0].y][this.locations[0].x],o=void 0;switch(g.maze.data.forEach((function(e){e.forEach((function(e){e.id===a.target&&(o=e)}))})),console.log(o),this.locations[0].x=o.x,this.locations[0].y=o.y,this.direction=o.direction,o.direction){case"left":this.move(-1,0);break;case"right":this.move(1,0);break;case"up":this.move(0,-1);break;case"down":this.move(0,1)}}},{key:"fruit",value:function(){var e=this;!function t(){var r={x:Math.floor(g.maze.data[0].length*Math.random()),y:Math.floor(g.maze.data.length*Math.random())};if(e.locations.every((function(e){return!(e.x===r.x&&e.y===r.y)}))&&e.gems.every((function(e){return!(e.coord.x===r.x&&e.coord.y===r.y)}))&&2===g.maze.data[r.y][r.x]){var n=new PIXI.Sprite(PIXI.loader.resources["assets/gem-"+Math.ceil(3*Math.random())+".png"].texture);n.x=32*r.x,n.y=32*r.y,n.scale.x=.5,n.scale.y=.5,n.coord=r,n.zIndex=1,e.gems.push(n),g.stage.addChild(n)}else t()}()}}]),e}();t.default=c},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e,t){for(var s=0;s<e.length;s++)e[s].forEach((function(i,a){var o,l,c,u,d,f,h,g,p,y,x=e[s][a];if("object"===(void 0===x?"undefined":n(x)))(x=new PIXI.Sprite(r(0).rectangle(32,32,"#fff"))).x=32*a,x.y=32*s,t.addChild(x);else switch(x){case" ":case 0:case 2:break;case 1:(x=new PIXI.Sprite(r(11)((o=a,c=1===e[l=s][o-1],u=e[l-1]&&1===e[l-1][o],d=1===e[l][o+1],f=e[l+1]&&1===e[l+1][o],h=e[l-1]&&1===e[l-1][o-1],g=e[l-1]&&1===e[l-1][o+1],p=e[l+1]&&1===e[l+1][o+1],y=e[l+1]&&1===e[l+1][o-1],[c&u?+h:0,+u||0,d&u?+g:0,+c,+d,c&f?+y:0,+f||0,d&f?+p:0])))).x=32*a,x.y=32*s,t.addChild(x)}}))}},function(e,t,r){"use strict";e.exports=function(e,t){for(var n=r(0),s=r(12),i=n.canvas(32,32),a="011112\n3    4\n3    4\n3    4\n3    4\n566667".split("\n").map((function(e){return e.split("")})),o=0;o<6;o++)for(var l=0;l<6;l++)null===e?i.ctx.fillStyle="#18212b":0===e[a[Math.floor(l)][Math.floor(o)]]?i.ctx.fillStyle="#"+s("006600",-5*Math.random()):i.ctx.fillStyle="#"+s("006600",10*Math.random()+5),i.ctx.fillRect(5.333*o,5.333*l,6,6);return PIXI.Texture.fromCanvas(i.canvas)}},function(e,t,r){"use strict";e.exports=function(e,t){var r=parseInt(e,16),n=Math.round(2.55*t),s=(r>>16)+n,i=(r>>8&255)+n,a=(255&r)+n;return(16777216+65536*(s<255?s<1?0:s:255)+256*(i<255?i<1?0:i:255)+(a<255?a<1?0:a:255)).toString(16).slice(1)}}]);
//# sourceMappingURL=bundle.js.map