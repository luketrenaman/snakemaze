{"version":3,"sources":["webpack:///webpack/bootstrap f93faf0e2c56532460cc","webpack:///./mazemake/src/index.js","webpack:///./mazemake/src/drawing/shapes.js"],"names":["stage","PIXI","Container","settings","SCALE_MODE","SCALE_MODES","NEAREST","renderer","autoDetectRenderer","backgroundColor","interactive","document","body","appendChild","view","text","createElement","start","prev","mouse","Number","prototype","mod","n","loader","add","load","setup","floodFill","x","y","arr","undefined","alreadyFilled","ff","console","log","zoom","mode","gridBlock","icons","drag","Sprite","resources","texture","buttonMode","width","height","on","addChild","draw","eraser","download","coords","ty","tx","ly","lx","maze","forEach","val","push","coord","direction","type","id","target","level","map","i","j","snake","end","data","fruit","length","JSON","stringify","innerHTML","snakeMarker","prompt","fill","portal","tint","line","shapes","rectangle","old","onmousedown","plugins","interaction","global","onmouseup","children","loc","scale","fillMarker","visible","endMarker","markers","loop","Math","round","ceil","collision","every","thing","removeChild","splice","indexOf","render","requestAnimationFrame","module","exports","a","canvas","ctx","getContext","color","b","fillStyle","fillRect","Texture","fromCanvas"],"mappings":"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","file":"mazemake/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f93faf0e2c56532460cc","import shapes from \"./drawing/shapes.js\";\r\nlet stage = new PIXI.Container();\r\nPIXI.settings.SCALE_MODE = PIXI.SCALE_MODES.NEAREST;\r\n// create a renderer instance.\r\nlet renderer = PIXI.autoDetectRenderer(832, 640, null, true);\r\nrenderer.backgroundColor = 0xcccccc;\r\nrenderer.interactive = true;\r\n// add the renderer view element to the DOM\r\ndocument.body.appendChild(renderer.view);\r\nlet text = document.createElement(\"textarea\");\r\ndocument.body.appendChild(text);\r\nlet start = {\"x\":0,\"y\":0}\r\nlet prev = {\"x\":0,\"y\":0}\r\nlet mouse = false;\r\n// create a new Sprite using the texture\r\nNumber.prototype.mod = function(n) {\r\n    return ((this%n)+n)%n;\r\n};\r\n//PIXI.loader.resources\r\nPIXI.loader\r\n.add(\"assets/drag.png\")\r\n.add(\"assets/eraser.png\")\r\n.add(\"assets/pencil.png\")\r\n.add(\"assets/download.png\")\r\n.add(\"assets/snake.png\")\r\n.add(\"assets/fill.png\")\r\n.add(\"assets/end.png\")\r\n.add(\"assets/portal.png\")\r\n.load(setup);\r\nfunction setup() {\r\nfunction floodFill(x, y,arr){\r\n    if(arr[y] === undefined) return;\r\n    if(arr[y][x] === undefined) return;\r\n    if(alreadyFilled(x, y,arr)) return;\r\n    ff(x, y,arr);\r\n\r\n    floodFill(x,   y-1,arr);\r\n    floodFill(x+1, y  ,arr);\r\n    floodFill(x,   y+1,arr);\r\n    floodFill(x-1, y  ,arr);\r\n}\r\n\r\nfunction ff(x, y,arr){\r\n    arr[y][x] = 2;\r\n}\r\n\r\nfunction alreadyFilled(x, y,arr){\r\n    console.log(arr[y][x])\r\n    return arr[y][x] === 2 || arr[y][x] === 1 || typeof arr[y][x] === \"object\";\r\n}\r\n\r\n    let zoom = 2;\r\n    let mode = \"drag\";\r\n    let gridBlock = new PIXI.Container()\r\n    let icons = new PIXI.Container()\r\n    let drag = new PIXI.Sprite(PIXI.loader.resources[\"assets/drag.png\"].texture);\r\n    drag.interactive = true;\r\n    drag.buttonMode = true;\r\n    drag.width = 70;\r\n    drag.height = 70;\r\n    drag.on('pointerdown',function(){\r\n        mode = \"drag\";\r\n        console.log(\"mode set to \" + mode)\r\n    })\r\n    icons.addChild(drag);\r\n    let draw = new PIXI.Sprite(PIXI.loader.resources[\"assets/pencil.png\"].texture);\r\n    draw.interactive = true;\r\n    draw.buttonMode = true;\r\n    draw.x = 70;\r\n    draw.width = 70;\r\n    draw.height = 70;\r\n    draw.on('pointerdown',function(){\r\n        mode = \"draw\";\r\n        console.log(\"mode set to \" + mode)\r\n    })\r\n    icons.addChild(draw);\r\n    let eraser = new PIXI.Sprite(PIXI.loader.resources[\"assets/eraser.png\"].texture);\r\n    eraser.interactive = true;\r\n    eraser.buttonMode = true;\r\n    eraser.x = 140;\r\n    eraser.width = 70;\r\n    eraser.height = 70;\r\n    eraser.on('pointerdown',function(){\r\n        mode = \"erase\";\r\n        console.log(\"mode set to \" + mode)\r\n    })\r\n    icons.addChild(eraser);\r\n    let download = new PIXI.Sprite(PIXI.loader.resources[\"assets/download.png\"].texture);\r\n    download.interactive = true;\r\n    download.buttonMode = true;\r\n    download.x = 210;\r\n    download.width = 70;\r\n    download.height = 70;\r\n    download.on('pointerdown',function(){\r\n        let coords = []\r\n        var ty = undefined;\r\n        var tx = undefined;\r\n        var ly = undefined;\r\n        var lx = undefined;\r\n        maze.forEach(function(val){\r\n            coords.push({\"x\":val.coord.x,\"y\":val.coord.y,\"direction\":val.direction,\"type\":val.type,\"id\":val.id,\"target\":val.target})\r\n            if(val.type === \"cell\" || val.type === \"portal\"){\r\n            if(val.coord.x < lx || lx === undefined){\r\n                lx = val.coord.x\r\n            }\r\n            if(val.coord.x > tx || tx === undefined){\r\n                tx = val.coord.x\r\n            }\r\n            if(val.coord.y < ly || ly === undefined){\r\n                ly = val.coord.y\r\n            }\r\n            if(val.coord.y > ty || ty === undefined){\r\n                ty = val.coord.y\r\n            }\r\n            }\r\n        })\r\n        console.log(ty,\" \",tx,\" \",ly,\" \",lx)\r\n        console.log(coords)\r\n        let level = {}\r\n        let map = []\r\n        for(let i = 0;i < (ty-ly+1);i++){\r\n            map.push([])\r\n            for(let j = 0; j < (tx-lx+1);j++){\r\n                map[i].push(0)\r\n            }\r\n        }\r\n        coords.forEach(function(val){\r\n            switch(val.type){\r\n                case \"cell\":\r\n                    map[val.y-ly][val.x-lx] = 1;\r\n                break;\r\n                case \"snake\":\r\n                    level.snake = {\r\n                        \"x\":val.x-lx,\r\n                        \"y\":val.y-ly,\r\n                        \"direction\":val.direction\r\n                    }\r\n                break;\r\n                case \"end\":\r\n                    level.end = {\r\n                        \"x\":val.x-lx,\r\n                        \"y\":val.y-ly\r\n                    }\r\n                break;\r\n                case \"portal\":\r\n                    map[val.y-ly][val.x-lx] = {\r\n                        \"x\":val.x-lx,\r\n                        \"y\":val.y-ly,\r\n                        \"id\":val.id,\r\n                        \"target\":val.target,\r\n                        \"direction\":val.direction\r\n                    };\r\n                break;\r\n            }\r\n        })\r\n        coords.forEach(function(val){\r\n            if(val.type === \"fill\"){\r\n                floodFill(val.x-lx,val.y-ly,map)\r\n            }\r\n        })\r\n        level.data = map;\r\n        level.fruit = [];\r\n        for(let i=0;i<level.data.length;i++){\r\n            for(let j=0;j<level.data[i].length;j++){\r\n                if(level.data[i][j] == 2){\r\n                    level.fruit.push([j,i]);\r\n                }\r\n            }\r\n        }\r\n        console.log(JSON.stringify(level));\r\n        text.innerHTML = JSON.stringify(level);\r\n    })\r\n    icons.addChild(download);\r\n    let snake = new PIXI.Sprite(PIXI.loader.resources[\"assets/snake.png\"].texture);\r\n    snake.interactive = true;\r\n    snake.buttonMode = true;\r\n    snake.x = 280;\r\n    snake.width = 70;\r\n    snake.height = 70;\r\n    snake.on('pointerdown',function(){\r\n        mode = \"snake\";\r\n        snakeMarker.direction = prompt(\"Direction?\");\r\n        console.log(\"mode set to \" + mode)\r\n    })\r\n    icons.addChild(snake)\r\n    let fill = new PIXI.Sprite(PIXI.loader.resources[\"assets/fill.png\"].texture);\r\n    fill.interactive = true;\r\n    fill.buttonMode = true;\r\n    fill.x = 350;\r\n    fill.width = 70;\r\n    fill.height = 70;\r\n    fill.on('pointerdown',function(){\r\n        mode = \"fill\";\r\n        console.log(\"mode set to \" + mode)\r\n    })\r\n    icons.addChild(fill)\r\n    let end = new PIXI.Sprite(PIXI.loader.resources[\"assets/end.png\"].texture);\r\n    end.interactive = true;\r\n    end.buttonMode = true;\r\n    end.x = 420;\r\n    end.width = 70;\r\n    end.height = 70;\r\n    end.on('pointerdown',function(){\r\n        mode = \"end\";\r\n        console.log(\"mode set to \" + mode);\r\n    })\r\n    icons.addChild(end)\r\n    let portal = new PIXI.Sprite(PIXI.loader.resources[\"assets/portal.png\"].texture);\r\n    portal.interactive = true;\r\n    portal.buttonMode = true;\r\n    portal.x = 490;\r\n    portal.width = 70;\r\n    portal.height = 70;\r\n    portal.tint = \"0x000\";\r\n    portal.on('pointerdown',function(){\r\n        mode = \"portal\";\r\n        console.log(\"mode set to \" + mode);\r\n    })\r\n    icons.addChild(portal)\r\n    for(let i = -1; i < 28*zoom;i++){\r\n        let line = new PIXI.Sprite(new shapes.rectangle(2,640*zoom,\"#000000\"));\r\n        line.x = i*32;\r\n        line.type = \"v\";\r\n        gridBlock.addChild(line);\r\n        line.old = {\"x\":i*32,\"y\":0};\r\n    }\r\n    for(let i = -1; i < 22*zoom;i++){\r\n        let line = new PIXI.Sprite(new shapes.rectangle(832*zoom,2,\"#000000\"));\r\n        line.y = i*32;;\r\n        line.type = \"h\";\r\n        gridBlock.addChild(line);\r\n        line.old = {\"x\":0,\"y\":i*32};\r\n    }\r\n    renderer.view.onmousedown = function(){\r\n        mouse = true;\r\n        if(mode === \"drag\"){\r\n            \r\n            start.x = renderer.plugins.interaction.mouse.global.x*zoom;\r\n            start.y = renderer.plugins.interaction.mouse.global.y*zoom;\r\n        }\r\n    }\r\n    renderer.view.onmouseup = function(){\r\n        mouse = false\r\n        if(mode === \"drag\"){\r\n            \r\n            gridBlock.children.forEach(function(line){\r\n                line.old.y = line.y\r\n                line.old.x = line.x\r\n            })\r\n        }\r\n    }\r\n    let loc = new PIXI.Sprite();\r\n    loc.old = {\"x\":0,\"y\":0}\r\n    loc.loc = true;\r\n    gridBlock.addChild(loc)\r\n\r\n\r\n    let maze = [];\r\n    stage.addChild(gridBlock)\r\n    stage.addChild(icons)\r\n    stage.scale.x = 1 / zoom;\r\n    stage.scale.y = 1 / zoom;\r\n    let fillMarker = new PIXI.Sprite(shapes.rectangle(30,30,\"#f00\"));\r\n    fillMarker.type = \"fill\"\r\n    gridBlock.addChild(fillMarker)\r\n    fillMarker.visible = false;\r\n    let snakeMarker = new PIXI.Sprite(shapes.rectangle(30,30,\"#0f0\"));\r\n    snakeMarker.type = \"snake\"\r\n    gridBlock.addChild(snakeMarker)\r\n    snakeMarker.visible = false;\r\n    let endMarker = new PIXI.Sprite(shapes.rectangle(30,30,\"#ff0\"));\r\n    endMarker.type = \"end\"\r\n    gridBlock.addChild(endMarker)\r\n    let markers = [fillMarker,snakeMarker,endMarker]\r\n    markers.forEach(function(val){\r\n        val.old = {\"x\":0,\"y\":0}\r\n        val.coord = {\"x\":0,\"y\":0}\r\n        maze.push(val);\r\n    })\r\n    endMarker.visible = false;\r\n    function loop(){\r\n        if(mouse === true){\r\n            if((mode === \"draw\" || mode === \"erase\" || mode === \"snake\" || mode === \"fill\" || mode === \"end\" || mode === \"portal\") && !((renderer.plugins.interaction.mouse.global.x*zoom < 500 + 70*3) && (renderer.plugins.interaction.mouse.global.y*zoom < 70))){\r\n                let coords = {\"x\":Math.round(renderer.plugins.interaction.mouse.global.x*zoom-loc.x),\"y\":Math.round(renderer.plugins.interaction.mouse.global.y*zoom-loc.y)}\r\n                if(!(coords.x.mod(32) <= 2 || coords.y.mod(32) <= 2)){\r\n                    //find index...? ROUND UP TO NEAREST 32\r\n                    let arr = {\"x\":0,\"y\":0}\r\n                    arr.x = (Math.ceil((coords.x-2)/32)*32)/32-1\r\n                    arr.y = (Math.ceil((coords.y-2)/32)*32)/32-1\r\n                    if(mode === \"draw\" || mode === \"portal\"){\r\n                        function collision(val){\r\n                            console.log(val.coord)\r\n                            console.log(arr)\r\n                            return !(val.coord.x === arr.x && val.coord.y === arr.y);\r\n                        }\r\n                        if(maze.every(collision) || maze.length === 0){\r\n                            let thing = new PIXI.Sprite(shapes.rectangle(30,30,\"#333\"))\r\n                            thing.x = arr.x*32 +2+loc.x;\r\n                            thing.y = arr.y*32 +2+loc.y;\r\n                            thing.coord = {\"x\":arr.x,\"y\":arr.y}\r\n                            thing.old = {\"x\":arr.x*32+2+loc.x,\"y\":arr.y*32+2+loc.y}\r\n                            if(mode === \"draw\"){\r\n                                thing.type = \"cell\";\r\n                                maze.push(thing);\r\n                            } else if(mode === \"portal\"){\r\n                                thing.type = \"portal\";\r\n                                thing.id = prompt(\"Enter the id for the portal\");\r\n                                thing.target = prompt(\"Enter the target id for the portal\");\r\n                                thing.direction = prompt(\"Enter default direction for the portal\");\r\n                                maze.push(thing);\r\n                                mouse = false;\r\n                            }\r\n                            gridBlock.addChild(thing)\r\n                        }\r\n                    }\r\n                    if(mode === \"erase\"){\r\n                        maze.forEach(function(val){\r\n                            if(val.coord.x === arr.x && val.coord.y === arr.y){\r\n                                console.log(val.coord)\r\n                                console.log(arr)\r\n                                gridBlock.removeChild(val);\r\n                                maze.splice(maze.indexOf(val),1);\r\n                            }\r\n                        })\r\n                    }\r\n                    if(mode === \"fill\"){\r\n                        fillMarker.visible = true;\r\n                        fillMarker.x = arr.x*32 +2+loc.x;\r\n                        fillMarker.y = arr.y*32 +2+loc.y;\r\n                        fillMarker.coord = {\"x\":arr.x,\"y\":arr.y}\r\n                        fillMarker.old = {\"x\":arr.x*32+2+loc.x,\"y\":arr.y*32+2+loc.y}\r\n                    }\r\n                    if(mode === \"snake\"){\r\n                        snakeMarker.visible = true;\r\n                        snakeMarker.x = arr.x*32 +2+loc.x;\r\n                        snakeMarker.y = arr.y*32 +2+loc.y;\r\n                        snakeMarker.coord = {\"x\":arr.x,\"y\":arr.y}\r\n                        snakeMarker.old = {\"x\":arr.x*32+2+loc.x,\"y\":arr.y*32+2+loc.y}\r\n                    }\r\n                    if(mode === \"end\"){\r\n                        endMarker.visible = true;\r\n                        endMarker.x = arr.x*32 +2+loc.x;\r\n                        endMarker.y = arr.y*32 +2+loc.y;\r\n                        endMarker.coord = {\"x\":arr.x,\"y\":arr.y}\r\n                        endMarker.old = {\"x\":arr.x*32+2+loc.x,\"y\":arr.y*32+2+loc.y}\r\n                    }\r\n                }}\r\n                    gridBlock.children.forEach(function(line){\r\n            if(mode === \"drag\"){\r\n            if(line.type === \"v\"){\r\n                line.x = (line.old.x+(renderer.plugins.interaction.mouse.global.x*zoom-start.x)).mod(832*zoom);\r\n            } else if(line.type === \"h\"){\r\n                line.y = (line.old.y+(renderer.plugins.interaction.mouse.global.y*zoom-start.y)).mod(640*zoom);\r\n            } else{\r\n                line.x = (line.old.x+(renderer.plugins.interaction.mouse.global.x*zoom-start.x))\r\n                line.y = (line.old.y+(renderer.plugins.interaction.mouse.global.y*zoom-start.y))\r\n            }\r\n            }\r\n        })\r\n            \r\n            \r\n        }\r\n        renderer.render(stage);\r\n        requestAnimationFrame(loop);\r\n    }\r\n    loop()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./mazemake/src/index.js","module.exports = new function() {\r\n    var a = this;\r\n    this.renderer = \"\";\r\n    this.canvas = function(width, height) {\r\n        var canvas = document.createElement('canvas');\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        var ctx = canvas.getContext(\"2d\");\r\n        return {\r\n            \"canvas\": canvas,\r\n            \"ctx\": ctx\r\n        };\r\n    };\r\n    this.rectangle = function(width, height, color) {\r\n        var b = a.canvas(width, height);\r\n        b.ctx.fillStyle = color;\r\n        b.ctx.fillRect(0, 0, width, height);\r\n        return PIXI.Texture.fromCanvas(b.canvas);\r\n    };\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./mazemake/src/drawing/shapes.js"],"sourceRoot":""}